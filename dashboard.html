<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Kintra — Dashboard</title>
<link rel="icon" href="data:,">
<meta name="description" content="Kintra dashboard — inbox, leads, suggested replies.">
<style>
  :root{
    --bg:#0b1220; --panel:#0f172a; --card:#111a2c; --border:#22304b;
    --fg:#f5f7fb; --muted:#9aa3b5; --accent:#0ea5e9; --good:#10b981; --warn:#f59e0b; --bad:#ef4444;
  }
  *{box-sizing:border-box}
  body{margin:0;background:radial-gradient(1200px 600px at 70% -10%, #16315b 0%, #0b1220 55%);color:var(--fg);
       font:15px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  a{color:var(--accent);text-decoration:none}
  .wrap{max-width:1180px;margin:0 auto;padding:22px}
  header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
  .brand{display:flex;align-items:center;gap:10px}
  .brand img{width:28px;height:28px}
  .brand b{letter-spacing:.2px}
  .lang{display:flex;gap:8px;align-items:center}
  .pill{padding:6px 10px;border:1px solid var(--border);border-radius:999px;color:#c7cfda;cursor:pointer;user-select:none}
  .pill.active{border-color:var(--accent);color:#fff;background:rgba(14,165,233,.15)}
  .kbadge{display:inline-block;border:1px solid var(--border);padding:4px 8px;border-radius:999px;color:#c7cfda}
  .grid{display:grid;grid-template-columns:1.2fr 1fr;gap:18px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px}
  .muted{color:var(--muted)}
  h1{font-size:24px;margin:0}
  h2{font-size:18px;margin:0 0 8px}
  .stats{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin:10px 0 18px}
  .stat{background:#0e1729;border:1px solid #2a3a57;border-radius:10px;padding:10px}
  .stat b{display:block;font-size:18px}
  .inbox{display:grid;grid-template-columns:320px 1fr;gap:10px}
  .list{background:#0e1729;border:1px solid #2a3a57;border-radius:10px;overflow:hidden}
  .item{padding:10px;border-bottom:1px solid #22304b;cursor:pointer}
  .item:hover{background:#0f1b33}
  .item .name{font-weight:600}
  .thread{background:#0e1729;border:1px solid #2a3a57;border-radius:10px;padding:10px}
  .bubble{max-width:75%;padding:10px 12px;border-radius:12px;margin:6px 0}
  .in{background:#065f46;color:#fff;border-top-left-radius:4px}
  .out{background:#111827;color:#e5e7eb;border-top-right-radius:4px;margin-left:auto}
  .composer{display:flex;gap:8px;margin-top:8px}
  textarea,input{width:100%;background:#0e1729;border:1px solid #2a3a57;color:var(--fg);padding:10px;border-radius:10px;outline:none}
  .btn{display:inline-block;background:var(--accent);color:#fff;border:0;border-radius:10px;padding:10px 14px;cursor:pointer}
  table{width:100%;border-collapse:collapse}
  th,td{border-bottom:1px solid #22304b;padding:8px;text-align:left}
  th{color:#cfe4ff;font-weight:600}
  .tag{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid #2a3a57;color:#c7cfda;font-size:12px}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:18px}
  @media (max-width:1050px){ .grid{grid-template-columns:1fr} .inbox{grid-template-columns:1fr} .stats{grid-template-columns:repeat(2,1fr)} }
</style>
</head>
<body>
<div class="wrap">

  <!-- Top -->
  <header>
    <div class="brand">
      <img src="./img/logo.png.png" alt="" onerror="this.style.display='none'">
      <b>Kintra</b>
    </div>
    <div class="lang">
      <span class="kbadge" id="badge">Pilot • IT + WhatsApp</span>
      <div class="pill" id="langEN">EN</div>
      <div class="pill" id="langIT">IT</div>
    </div>
  </header>

  <!-- Title -->
  <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px">
    <h1 id="title">Dashboard</h1>
    <a class="btn" href="./index.html" id="backToSite">Back to site</a>
  </div>
  <p class="muted" id="subtitle">Today’s picture at a glance.</p>

  <!-- Stats -->
  <div class="stats">
    <div class="stat">
      <span id="s1t" class="muted">New leads</span>
      <b id="s1v">7</b>
      <span class="muted small" id="s1s">+2 vs. yesterday</span>
    </div>
    <div class="stat">
      <span id="s2t" class="muted">Median first response</span>
      <b id="s2v">6m</b>
      <span class="muted small" id="s2s">Goal: &lt;5m</span>
    </div>
    <div class="stat">
      <span id="s3t" class="muted">Follow-ups due</span>
      <b id="s3v">4</b>
      <span class="muted small" id="s3s">2 overdue</span>
    </div>
    <div class="stat">
      <span id="s4t" class="muted">Bookings today</span>
      <b id="s4v">3</b>
      <span class="muted small" id="s4s">+1 confirmed</span>
    </div>
  </div>

  <div class="grid">

    <!-- Inbox -->
    <div class="card">
      <h2 id="inboxTitle">Inbox</h2>
      <div class="inbox">
        <div class="list" id="leadList">
          <div class="item">
            <div class="name">Marco Bianchi <span class="tag">WhatsApp</span></div>
            <div class="muted small" id="leadAprev">“Appartamento in Via Torino ancora disponibile?”</div>
          </div>
          <div class="item">
            <div class="name">Sara Conti <span class="tag">Web</span></div>
            <div class="muted small" id="leadBprev">“Bilocale zona Navigli per settimana prossima…”</div>
          </div>
          <div class="item">
            <div class="name">Luca Greco <span class="tag">WhatsApp</span></div>
            <div class="muted small" id="leadCprev">“Possibile visita sabato mattina?”</div>
          </div>
        </div>

        <div class="thread">
          <div class="bubble in" id="thIn1">
            Buongiorno, l’appartamento in Via Torino è disponibile?
          </div>
          <div class="bubble out" id="thOut1">
            Buongiorno! Sì, disponibile. Preferisce una visita oggi alle 17:00?
          </div>
          <div class="bubble in" id="thIn2">
            Perfetto, 17:00 va bene. Grazie!
          </div>

          <div class="composer">
            <textarea id="compose" placeholder="Scrivi una risposta…"></textarea>
            <button class="btn" id="sendBtn">Send</button>
          </div>
          <p class="muted small" id="compHelp" style="margin-top:6px">
            Suggested: “Confermo la visita alle 17:00 in Via Torino 12. Porta documento d’identità. A dopo!”
          </p>
        </div>
      </div>
    </div>

    <!-- Leads & Suggestions -->
    <div class="card">
      <h2 id="leadsTitle">Leads</h2>
      <div class="row">
        <div class="card" style="padding:10px">
          <h2 id="tableTitle">This week</h2>
          <table>
            <thead>
              <tr>
                <th id="thName">Name</th>
                <th id="thChan">Channel</th>
                <th id="thWhen">When</th>
                <th id="thNext">Next step</th>
              </tr>
            </thead>
            <tbody id="leadTable">
              <tr>
                <td>Marco Bianchi</td><td>WhatsApp</td><td>10:42</td><td>Confirm 17:00 visit</td>
              </tr>
              <tr>
                <td>Sara Conti</td><td>Web</td><td>09:18</td><td>Send 2 options</td>
              </tr>
              <tr>
                <td>Luca Greco</td><td>WhatsApp</td><td>Yesterday</td><td>Follow up</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="card" style="padding:10px">
          <h2 id="suggTitle">Suggested reply</h2>
          <p class="muted" id="suggText">
            “Confermo la visita alle 17:00 in Via Torino 12. Porta documento d’identità. A dopo!”
          </p>
          <button class="btn" id="copyBtn">Copy</button>
          <span class="small muted" id="copyNote" style="margin-left:8px"></span>
        </div>
      </div>
    </div>

  </div>

  <p class="muted" style="margin-top:16px" id="footNote">
    Mock data for preview. WhatsApp + lead sync will pull live threads during pilot.
  </p>

</div>

<script>
  // ===== i18n dictionary =====
  const dict = {
    en: {
      badge: 'Pilot • IT + WhatsApp',
      title: 'Dashboard',
      backToSite: 'Back to site',
      subtitle: 'Today’s picture at a glance.',
      s1t:'New leads', s1s:'+2 vs. yesterday',
      s2t:'Median first response', s2s:'Goal: <5m',
      s3t:'Follow-ups due', s3s:'2 overdue',
      s4t:'Bookings today', s4s:'+1 confirmed',
      inboxTitle:'Inbox',
      leadAprev:'“Is the Via Torino apartment still available?”',
      leadBprev:'“Two-room near Navigli for next week…”',
      leadCprev:'“Possible viewing Saturday morning?”',
      thIn1:'Good morning, is the apartment on Via Torino available?',
      thOut1:'Good morning! Yes, available. Would you like a viewing today at 17:00?',
      thIn2:'Perfect, 17:00 works. Thanks!',
      composePH:'Type a reply…',
      send:'Send',
      compHelp:'Suggested: “I confirm the 17:00 viewing at Via Torino 12. Please bring ID. See you later!”',
      leadsTitle:'Leads',
      tableTitle:'This week',
      thName:'Name', thChan:'Channel', thWhen:'When', thNext:'Next step',
      tRow1Next:'Confirm 17:00 visit',
      tRow2Next:'Send 2 options',
      tRow3Next:'Follow up',
      suggTitle:'Suggested reply',
      suggText:'“I confirm the 17:00 viewing at Via Torino 12. Please bring ID. See you later!”',
      copy:'Copy',
      copied:'Copied!',
      footNote:'Mock data for preview. WhatsApp + lead sync will pull live threads during pilot.'
    },
    it: {
      badge: 'Pilot • IT + WhatsApp',
      title: 'Dashboard',
      backToSite: 'Torna al sito',
      subtitle: 'La giornata a colpo d’occhio.',
      s1t:'Nuovi lead', s1s:'+2 vs. ieri',
      s2t:'Prima risposta mediana', s2s:'Obiettivo: <5m',
      s3t:'Follow-up in scadenza', s3s:'2 in ritardo',
      s4t:'Prenotazioni oggi', s4s:'+1 confermata',
      inboxTitle:'Inbox',
      leadAprev:'“Appartamento in Via Torino ancora disponibile?”',
      leadBprev:'“Bilocale zona Navigli per settimana prossima…”',
      leadCprev:'“Possibile visita sabato mattina?”',
      thIn1:'Buongiorno, l’appartamento in Via Torino è disponibile?',
      thOut1:'Buongiorno! Sì, disponibile. Preferisce una visita oggi alle 17:00?',
      thIn2:'Perfetto, 17:00 va bene. Grazie!',
      composePH:'Scrivi una risposta…',
      send:'Invia',
      compHelp:'Suggerito: “Confermo la visita alle 17:00 in Via Torino 12. Porta documento d’identità. A dopo!”',
      leadsTitle:'Lead',
      tableTitle:'Questa settimana',
      thName:'Nome', thChan:'Canale', thWhen:'Quando', thNext:'Prossimo passo',
      tRow1Next:'Conferma visita 17:00',
      tRow2Next:'Invia 2 opzioni',
      tRow3Next:'Follow-up',
      suggTitle:'Risposta suggerita',
      suggText:'“Confermo la visita alle 17:00 in Via Torino 12. Porta documento d’identità. A dopo!”',
      copy:'Copia',
      copied:'Copiato!',
      footNote:'Dati fittizi per anteprima. Durante il pilot sincronizzeremo thread e lead reali.'
    }
  };

  // ===== wire UI refs =====
  const $ = id => document.getElementById(id);
  const els = {
    badge:$('badge'), title:$('title'), backToSite:$('backToSite'), subtitle:$('subtitle'),
    s1t:$('s1t'), s1s:$('s1s'), s2t:$('s2t'), s2s:$('s2s'), s3t:$('s3t'), s3s:$('s3s'), s4t:$('s4t'), s4s:$('s4s'),
    inboxTitle:$('inboxTitle'),
    leadAprev:$('leadAprev'), leadBprev:$('leadBprev'), leadCprev:$('leadCprev'),
    thIn1:$('thIn1'), thOut1:$('thOut1'), thIn2:$('thIn2'),
    compose:$('compose'), sendBtn:$('sendBtn'), compHelp:$('compHelp'),
    leadsTitle:$('leadsTitle'), tableTitle:$('tableTitle'),
    thName:$('thName'), thChan:$('thChan'), thWhen:$('thWhen'), thNext:$('thNext'),
    leadTable:$('leadTable'),
    suggTitle:$('suggTitle'), suggText:$('suggText'), copyBtn:$('copyBtn'), copyNote:$('copyNote'),
    footNote:$('footNote'),
    langEN:$('langEN'), langIT:$('langIT')
  };

  // ===== apply language =====
  function setLang(lang){
    const d = dict[lang] || dict.en;
    els.badge.textContent = d.badge;
    els.title.textContent = d.title;
    els.backToSite.textContent = d.backToSite;
    els.subtitle.textContent = d.subtitle;

    $('s1t').textContent=d.s1t; $('s1s').textContent=d.s1s;
    $('s2t').textContent=d.s2t; $('s2s').textContent=d.s2s;
    $('s3t').textContent=d.s3t; $('s3s').textContent=d.s3s;
    $('s4t').textContent=d.s4t; $('s4s').textContent=d.s4s;

    els.inboxTitle.textContent=d.inboxTitle;
    els.leadAprev.textContent=d.leadAprev;
    els.leadBprev.textContent=d.leadBprev;
    els.leadCprev.textContent=d.leadCprev;

    els.thIn1.textContent=d.thIn1;
    els.thOut1.textContent=d.thOut1;
    els.thIn2.textContent=d.thIn2;

    els.compose.placeholder=d.composePH;
    els.sendBtn.textContent=d.send;

    els.compHelp.textContent=d.compHelp;

    els.leadsTitle.textContent=d.leadsTitle;
    els.tableTitle.textContent=d.tableTitle;
    els.thName.textContent=d.thName;
    els.thChan.textContent=d.thChan;
    els.thWhen.textContent=d.thWhen;
    els.thNext.textContent=d.thNext;

    // Update the “next step” text in the sample table rows
    const rows = els.leadTable.querySelectorAll('tr');
    if (rows[0]) rows[0].children[3].textContent = d.tRow1Next;
    if (rows[1]) rows[1].children[3].textContent = d.tRow2Next;
    if (rows[2]) rows[2].children[3].textContent = d.tRow3Next;

    els.suggTitle.textContent=d.suggTitle;
    els.suggText.textContent=d.suggText;
    els.copyBtn.textContent=d.copy;
    els.footNote.textContent=d.footNote;

    // Toggle pills
    els.langEN.classList.toggle('active', lang==='en');
    els.langIT.classList.toggle('active', lang==='it');

    localStorage.setItem('kintra_lang', lang);
    document.documentElement.lang = (lang==='it'?'it':'en');
  }

  const saved = localStorage.getItem('kintra_lang');
  const browserPref = (navigator.language||'en').toLowerCase().startsWith('it') ? 'it' : 'en';
  setLang(saved || browserPref || 'en');

  // toggle handlers
  els.langEN.onclick = ()=>setLang('en');
  els.langIT.onclick = ()=>setLang('it');

  // copy helper
  $('copyBtn').onclick = async ()=>{
    try{
      await navigator.clipboard.writeText( $('suggText').textContent.trim() );
      $('copyNote').textContent = dict[document.documentElement.lang].copied;
      setTimeout(()=> $('copyNote').textContent='', 1200);
    }catch(e){
      $('copyNote').textContent = '…';
      setTimeout(()=> $('copyNote').textContent='', 800);
    }
  };

  // fake send
  $('sendBtn').onclick = ()=>{
    const t = (els.compose.value||'').trim();
    if(!t) return;
    const div = document.createElement('div');
    div.className = 'bubble out';
    div.textContent = t;
    document.querySelector('.thread').insertBefore(div, document.querySelector('.composer'));
    els.compose.value='';
  };
</script>
</body>
</html>
