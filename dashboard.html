<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kintra — PulseView Dashboard</title>
  <meta name="description" content="Today’s WhatsApp leads — live view." />
  <style>
    :root{
      --bg:#ffffff; --fg:#0e1726; --muted:#5b6475; --line:#e8ecf1;
      --brand:#0ea5a6; --brand-2:#5dd1c1; --good:#10b981; --warn:#f59e0b; --info:#3b82f6;
      --card:#ffffff; --shadow:0 8px 24px rgba(16,23,40,.06); --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1100px;margin:0 auto;padding:28px 16px 64px}

    .topbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;gap:12px;flex-wrap:wrap}
    .brand{display:flex;align-items:center;gap:10px;font-weight:700;font-size:18px}
    .brand img{width:26px;height:26px;object-fit:contain;border-radius:6px}
    .actions{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
    .btn{padding:10px 14px;border:1px solid var(--line);border-radius:12px;background:#fff;cursor:pointer;font-size:14px}
    .btn.primary{border:none;background:var(--fg);color:#fff}
    .btn.small{padding:8px 12px;font-size:13px}

    .hero{
      position:relative;border:1px solid var(--line);border-radius:20px;overflow:hidden;
      background:
        radial-gradient(1200px 300px at -10% -20%, rgba(14,165,166,.15), transparent 60%),
        radial-gradient(900px 250px at 110% -30%, rgba(93,209,193,.18), transparent 55%),
        #ffffff;
      box-shadow:0 14px 34px rgba(15,23,42,.12);
    }
    .hero::before{
      content:"";position:absolute;inset:-2px;
      background:linear-gradient(90deg, rgba(14,165,166,.18), rgba(93,209,193,.10), rgba(59,130,246,.12));
      filter:blur(28px);opacity:.6;animation:glide 8s linear infinite;pointer-events:none;
    }
    @keyframes glide{0%{transform:translateX(-30%)}100%{transform:translateX(30%)}}
    .hero-inner{position:relative;padding:22px 18px 18px;display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .h-title{font-size:22px;font-weight:750;letter-spacing:.2px}
    .h-sub{color:var(--muted);font-size:14px;margin-top:4px}

    .kpis{position:relative;z-index:1;display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding:14px 14px 18px}
    .kpi{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:14px 12px;
      box-shadow:var(--shadow);display:flex;align-items:flex-start;justify-content:space-between;gap:8px}
    .kpi .label{color:var(--muted);font-size:13px}
    .kpi .value{font-size:22px;font-weight:800;letter-spacing:.2px}
    .kpi-note{font-size:11px;color:#9aa3b2;margin-top:4px}
    .kpi .delta{font-size:12px;border-radius:999px;padding:6px 8px}
    .delta.up{background:rgba(16,185,129,.12);color:var(--good);border:1px solid rgba(16,185,129,.3)}
    .delta.flat{background:rgba(59,130,246,.10);color:var(--info);border:1px solid rgba(59,130,246,.25)}
    .delta.down{background:rgba(245,158,11,.12);color:var(--warn);border:1px solid rgba(245,158,11,.3)}

    .main-grid{
      display:grid;
      grid-template-columns:2fr 1.1fr;
      gap:16px;
      margin-top:18px;
    }

    /* Lead stream */
    .panel{
      border-radius:18px;
      border:1px solid var(--line);
      background:#f9fbff;
      padding:12px 12px 14px;
      box-shadow:0 10px 28px rgba(15,23,42,.06);
    }
    .panel-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
    .panel-title{font-size:15px;font-weight:650}
    .panel-sub{font-size:12px;color:var(--muted)}

    .lead-stream{
      max-height:430px;
      overflow:auto;
      padding-right:4px;
    }

    .lead-grid{display:flex;flex-direction:column;gap:10px;margin-top:4px}
    .card{
      background:var(--card);border:1px solid var(--line);border-radius:14px;padding:10px 10px 12px;
      box-shadow:var(--shadow);display:flex;flex-direction:column;gap:8px;min-height:0;
      transform:translateZ(0);transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
    }
    .card:hover{transform:translateY(-2px);box-shadow:0 10px 28px rgba(16,23,40,.08);border-color:#dfe6ee}
    .row{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .id{font-weight:700;font-size:14px}
    .badge{font-size:11px;padding:5px 7px;border-radius:10px;border:1px solid}
    .b-new{color:var(--good);background:rgba(16,185,129,.10);border-color:rgba(16,185,129,.25)}
    .b-wait{color:var(--warn);background:rgba(245,158,11,.10);border-color:rgba(245,158,11,.25)}
    .b-sent{color:var(--info);background:rgba(59,130,246,.10);border-color:rgba(59,130,246,.25)}
    .snippet{color:var(--muted);font-size:14px;border-left:3px solid #e6eef7;padding-left:8px}
    .meta{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:12px}
    .cta{display:flex;gap:8px;margin-top:auto}
    .cta .btn{border-radius:10px}

    .ago-dot{width:5px;height:5px;border-radius:999px;background:#cbd5e1}

    .roi{margin:14px 2px 0;color:var(--muted);font-size:13px}

    /* Right column: viewings + follow-ups */
    .stack{display:flex;flex-direction:column;gap:10px}
    .small-card{
      border-radius:14px;
      border:1px solid var(--line);
      background:#ffffff;
      padding:10px 11px 11px;
      box-shadow:0 8px 20px rgba(15,23,42,.04);
      font-size:13px;
    }
    .small-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px}
    .small-title{font-weight:650;font-size:13px}
    .small-chip{font-size:11px;border-radius:999px;padding:3px 7px;border:1px solid #c7d2fe;background:#eef2ff;color:#3730a3}
    .view-row,.fu-row{display:flex;align-items:center;justify-content:space-between;margin-top:4px;font-size:12px;color:#475569}
    .view-main{font-weight:600}
    .view-time{font-size:12px;color:#64748b}
    .pill{
      font-size:11px;padding:2px 6px;border-radius:999px;
      background:rgba(14,165,233,.08);color:#0369a1;border:1px solid rgba(59,130,246,.25);
    }
    .fu-row.overdue .view-time{color:#b91c1c}
    .fu-row.overdue .pill{background:rgba(248,113,113,.10);color:#b91c1c;border-color:rgba(248,113,113,.38)}

    footer{margin-top:18px;color:#8b94a6;font-size:12px;display:flex;justify-content:flex-end}

    .pulse{animation:pulse 1.8s ease-in-out 1}
    @keyframes pulse{
      0%{box-shadow:var(--shadow)}
      50%{box-shadow:0 14px 36px rgba(14,165,166,.18)}
      100%{box-shadow:var(--shadow)}
    }

    .wa{display:inline-flex;align-items:center;justify-content:center;width:18px;height:18px;border-radius:6px;background:#25D366;color:#fff;font-size:12px}
    .lang{display:flex;gap:6px}
    .lang button{border:1px solid var(--line);background:#fff;padding:8px 10px;border-radius:10px;cursor:pointer;font-size:12px}
    .lang button.active{background:#0e1726;color:#fff;border-color:#0e1726}

    @media (max-width:900px){
      .main-grid{grid-template-columns:1fr}
      .lead-stream{max-height:none}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <img src="./img/logo.png.png" alt="Kintra logo" />
        <span>Kintra — <span data-i18n="dash_title_small">PulseView</span></span>
      </div>
      <div class="actions">
        <a class="btn small" href="./index.html" data-i18n="back_landing">← Back to landing</a>
        <a class="btn small" href="./index.html#pilot-offer" data-i18n="request_pilot">Request Pilot</a>
        <div class="lang">
          <button id="btn-en" class="active">EN</button>
          <button id="btn-it">IT</button>
        </div>
      </div>
    </div>

    <div class="hero">
      <div class="hero-inner">
        <div>
          <div class="h-title" data-i18n="hero_title">Today’s WhatsApp Leads</div>
          <div class="h-sub"><span id="live-sub" data-i18n="hero_sub">Updated live — 8 new threads since morning.</span></div>
        </div>
        <div class="actions">
          <a class="btn primary" href="#" id="btn-refresh" data-i18n="refresh_fake">Refresh (demo)</a>
        </div>
      </div>

      <div class="kpis">
        <div class="kpi" id="kpi-card-leads">
          <div>
            <div class="label" data-i18n="kpi_new_leads">New leads today</div>
            <div class="value" id="kpi-leads">8</div>
            <div class="kpi-note" data-i18n="kpi_new_leads_note">Across rentals &amp; sales in this pilot niche.</div>
          </div>
          <div class="delta up" id="delta-leads">+12%</div>
        </div>
        <div class="kpi" id="kpi-card-reply">
          <div>
            <div class="label" data-i18n="kpi_avg_reply">Avg. reply time</div>
            <div class="value" id="kpi-reply">2m 12s</div>
            <div class="kpi-note" data-i18n="kpi_avg_reply_note">First reply from agent or assistant.</div>
          </div>
          <div class="delta flat" id="delta-reply" data-i18n="flat_vs_yday">stable vs. yesterday</div>
        </div>
        <div class="kpi" id="kpi-card-closed">
          <div>
            <div class="label" data-i18n="kpi_closed">Closed today</div>
            <div class="value" id="kpi-closed">3</div>
            <div class="kpi-note" data-i18n="kpi_closed_note">Viewings confirmed or deals marked as done.</div>
          </div>
          <div class="delta up" id="delta-closed">+1</div>
        </div>
      </div>
    </div>

    <div class="main-grid">
      <!-- LEFT: LIVE LEAD STREAM -->
      <section class="panel">
        <div class="panel-header">
          <div>
            <div class="panel-title" data-i18n="lead_stream_title">Live WhatsApp lead stream</div>
            <div class="panel-sub" data-i18n="lead_stream_sub">Newest conversations at the top – rentals &amp; sales.</div>
          </div>
        </div>

        <div class="lead-stream">
          <div class="lead-grid" id="lead-grid">
            <div class="card" data-mins="180">
              <div class="row">
                <div class="id"><span class="wa">w</span> +39 347 221 88 32</div>
                <span class="badge b-new" data-i18n="st_new">New</span>
              </div>
              <div class="snippet">“Buongiorno, interessato al trilocale zona Navigli. È disponibile nel weekend?”</div>
              <div class="row meta">
                <div>
                  <span class="ago">3h ago</span>
                  <span class="ago-dot"></span>
                  <span data-i18n="agent">Agent</span>: Luca
                </div>
                <span>3 msgs</span>
              </div>
              <div class="cta">
                <a class="btn small" href="#" data-i18n="open_thread">Open thread</a>
                <a class="btn small" href="./index.html#wa-demo" data-i18n="draft_reply">Instant reply draft</a>
              </div>
            </div>

            <div class="card" data-mins="47">
              <div class="row">
                <div class="id"><span class="wa">w</span> +39 320 991 44 07</div>
                <span class="badge b-wait" data-i18n="st_wait">Awaiting reply</span>
              </div>
              <div class="snippet">“Foto ulteriori del bilocale in via Roma? Budget 1.200€/mese.”</div>
              <div class="row meta">
                <div>
                  <span class="ago">47m ago</span>
                  <span class="ago-dot"></span>
                  <span data-i18n="agent">Agent</span>: Silvia
                </div>
                <span>1 msg</span>
              </div>
              <div class="cta">
                <a class="btn small" href="#" data-i18n="open_thread">Open thread</a>
                <a class="btn small" href="./index.html#wa-demo" data-i18n="draft_reply">Instant reply draft</a>
              </div>
            </div>

            <div class="card" data-mins="60">
              <div class="row">
                <div class="id"><span class="wa">w</span> +39 335 770 12 66</div>
                <span class="badge b-sent" data-i18n="st_sent">Follow-up sent</span>
              </div>
              <div class="snippet">“Grazie! Appuntamento fissato per martedì ore 18.”</div>
              <div class="row meta">
                <div>
                  <span class="ago">1h ago</span>
                  <span class="ago-dot"></span>
                  <span data-i18n="agent">Agent</span>: Marta
                </div>
                <span>5 msgs</span>
              </div>
              <div class="cta">
                <a class="btn small" href="#" data-i18n="open_thread">Open thread</a>
                <a class="btn small" href="./index.html#wa-demo" data-i18n="draft_reply">Instant reply draft</a>
              </div>
            </div>

            <div class="card" data-mins="12">
              <div class="row">
                <div class="id"><span class="wa">w</span> +39 338 991 55 02</div>
                <span class="badge b-new" data-i18n="st_new">New</span>
              </div>
              <div class="snippet">“È possibile vedere l’attico giovedì? Siamo in due.”</div>
              <div class="row meta">
                <div>
                  <span class="ago">12m ago</span>
                  <span class="ago-dot"></span>
                  <span data-i18n="agent">Agent</span>: Paolo
                </div>
                <span>2 msgs</span>
              </div>
              <div class="cta">
                <a class="btn small" href="#" data-i18n="open_thread">Open thread</a>
                <a class="btn small" href="./index.html#wa-demo" data-i18n="draft_reply">Instant reply draft</a>
              </div>
            </div>

            <div class="card" data-mins="9">
              <div class="row">
                <div class="id"><span class="wa">w</span> +39 329 800 77 61</div>
                <span class="badge b-wait" data-i18n="st_wait">Awaiting reply</span>
              </div>
              <div class="snippet">“Contratto transitorio 6 mesi? Zona centro.”</div>
              <div class="row meta">
                <div>
                  <span class="ago">9m ago</span>
                  <span class="ago-dot"></span>
                  <span data-i18n="agent">Agent</span>: Giulia
                </div>
                <span>1 msg</span>
              </div>
              <div class="cta">
                <a class="btn small" href="#" data-i18n="open_thread">Open thread</a>
                <a class="btn small" href="./index.html#wa-demo" data-i18n="draft_reply">Instant reply draft</a>
              </div>
            </div>

            <div class="card" data-mins="120">
              <div class="row">
                <div class="id"><span class="wa">w</span> +39 331 221 44 09</div>
                <span class="badge b-sent" data-i18n="st_sent">Follow-up sent</span>
              </div>
              <div class="snippet">“Inviata scheda immobile e planimetria.”</div>
              <div class="row meta">
                <div>
                  <span class="ago">2h ago</span>
                  <span class="ago-dot"></span>
                  <span data-i18n="agent">Agent</span>: Elisa
                </div>
                <span>4 msgs</span>
              </div>
              <div class="cta">
                <a class="btn small" href="#" data-i18n="open_thread">Open thread</a>
                <a class="btn small" href="./index.html#wa-demo" data-i18n="draft_reply">Instant reply draft</a>
              </div>
            </div>
          </div>
        </div>

        <div class="roi" data-i18n="roi">
          Every Kintra reply draft saves ~2.5 minutes. That’s ~1 hour reclaimed daily — per agent.
        </div>
      </section>

      <!-- RIGHT: TODAY'S VIEWINGS + FOLLOW-UPS -->
      <aside class="stack">
        <div class="small-card">
          <div class="small-head">
            <span class="small-title" data-i18n="viewings_title">Today’s viewings</span>
            <span class="small-chip" data-i18n="viewings_chip">From WhatsApp threads</span>
          </div>
          <div class="view-row">
            <span class="view-main">Via Roma • 2BR • Navigli</span>
            <span class="view-time">18:30</span>
          </div>
          <div class="view-row">
            <span class="view-main">Corso Buenos Aires • Mono</span>
            <span class="view-time">17:00</span>
          </div>
          <div class="view-row">
            <span class="view-main">Via Garibaldi • 3BR • Attico</span>
            <span class="view-time">19:15</span>
          </div>
        </div>

        <div class="small-card">
          <div class="small-head">
            <span class="small-title" data-i18n="fu_title">Follow-ups due</span>
            <span class="small-chip" data-i18n="fu_chip">Replies + owner updates</span>
          </div>
          <div class="fu-row overdue">
            <span class="view-main">Budget 1.200€/mese • centro</span>
            <span>
              <span class="view-time">+42 min</span>
              <span class="pill" data-i18n="fu_overdue">Overdue</span>
            </span>
          </div>
          <div class="fu-row">
            <span class="view-main">Check owner reply • Via Manzoni</span>
            <span>
              <span class="view-time">in 18 min</span>
              <span class="pill" data-i18n="fu_due">Due soon</span>
            </span>
          </div>
          <div class="fu-row">
            <span class="view-main">Send summary • Viewing Navigli</span>
            <span>
              <span class="view-time">in 43 min</span>
              <span class="pill" data-i18n="fu_due">Due soon</span>
            </span>
          </div>
        </div>

        <div class="small-card" id="listing">
          <div class="small-head">
            <span class="small-title" data-i18n="listing_title">Listing summaries in use</span>
            <span class="small-chip">Beta</span>
          </div>
          <p style="margin:4px 0 2px;font-size:12px;color:#475569;" data-i18n="listing_copy">
            Agents send pre-filled cards (photos, floor, price, area) into WhatsApp instead of re-typing details.
          </p>
          <p style="margin:4px 0 0;font-size:12px;">
            <a href="./listing-summary.html" style="text-decoration:underline;" data-i18n="listing_cta">Open listing-summary demo →</a>
          </p>
        </div>
      </aside>
    </div>

    <footer>
      <div data-i18n="seal">Powered by Kintra AI — built for real estate teams.</div>
    </footer>
  </div>

  <script>
    // --- EN/IT dictionary
    const dict = {
      en:{
        dash_title_small:"PulseView",
        back_landing:"← Back to landing",
        request_pilot:"Request Pilot",
        hero_title:"Today’s WhatsApp Leads",
        hero_sub:"Updated live — 8 new threads since morning.",
        refresh_fake:"Refresh (demo)",
        kpi_new_leads:"New leads today",
        kpi_new_leads_note:"Across rentals & sales in this pilot niche.",
        kpi_avg_reply:"Avg. reply time",
        kpi_avg_reply_note:"First reply from agent or assistant.",
        kpi_closed:"Closed today",
        kpi_closed_note:"Viewings confirmed or deals marked as done.",
        flat_vs_yday:"stable vs. yesterday",
        st_new:"New",
        st_wait:"Awaiting reply",
        st_sent:"Follow-up sent",
        agent:"Agent",
        open_thread:"Open thread",
        draft_reply:"Instant reply draft",
        roi:"Every Kintra reply draft saves ~2.5 minutes. That’s ~1 hour reclaimed daily — per agent.",
        seal:"Powered by Kintra AI — built for real estate teams.",
        lead_stream_title:"Live WhatsApp lead stream",
        lead_stream_sub:"Newest conversations at the top – rentals & sales.",
        viewings_title:"Today’s viewings",
        viewings_chip:"From WhatsApp threads",
        fu_title:"Follow-ups due",
        fu_chip:"Replies + owner updates",
        fu_overdue:"Overdue",
        fu_due:"Due soon",
        listing_title:"Listing summaries in use",
        listing_copy:"Agents send pre-filled cards (photos, floor, price, area) into WhatsApp instead of re-typing details.",
        listing_cta:"Open listing-summary demo →"
      },
      it:{
        dash_title_small:"PulseView",
        back_landing:"← Torna alla pagina",
        request_pilot:"Richiedi Pilot",
        hero_title:"Lead WhatsApp di oggi",
        hero_sub:"Aggiornato in tempo reale — 8 nuove conversazioni da stamattina.",
        refresh_fake:"Aggiorna (demo)",
        kpi_new_leads:"Nuovi lead oggi",
        kpi_new_leads_note:"Tra affitti e vendite in questa nicchia del pilot.",
        kpi_avg_reply:"Tempo medio di risposta",
        kpi_avg_reply_note:"Prima risposta da agente o assistente.",
        kpi_closed:"Chiusure di oggi",
        kpi_closed_note:"Visite confermate o affari segnati come chiusi.",
        flat_vs_yday:"stabile vs. ieri",
        st_new:"Nuovo",
        st_wait:"In attesa",
        st_sent:"Follow-up inviato",
        agent:"Agente",
        open_thread:"Apri conversazione",
        draft_reply:"Bozza risposta istantanea",
        roi:"Ogni bozza Kintra fa risparmiare ~2,5 minuti. ~1 ora recuperata al giorno — per agente.",
        seal:"Tecnologia Kintra AI — creata per i team immobiliari.",
        lead_stream_title:"Flusso live dei lead WhatsApp",
        lead_stream_sub:"Le conversazioni più recenti in alto – affitti & vendite.",
        viewings_title:"Visite di oggi",
        viewings_chip:"Dalle conversazioni WhatsApp",
        fu_title:"Follow-up da fare",
        fu_chip:"Risposte + aggiornamenti ai proprietari",
        fu_overdue:"In ritardo",
        fu_due:"In arrivo",
        listing_title:"Schede immobile in uso",
        listing_copy:"Gli agenti inviano schede precompilate (foto, piano, prezzo, zona) su WhatsApp invece di riscrivere i dettagli.",
        listing_cta:"Apri la demo listing-summary →"
      }
    };

    function setLang(lang){
      const map = dict[lang] || dict.en;
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const k = el.getAttribute('data-i18n'); if(map[k]) el.textContent = map[k];
      });
      document.getElementById('btn-en').classList.toggle('active', lang==='en');
      document.getElementById('btn-it').classList.toggle('active', lang==='it');
      document.documentElement.lang = lang;
      try{ localStorage.setItem('kintra_lang', lang); }catch(e){}
    }

    function initLang(){
      let saved;
      try{ saved = localStorage.getItem('kintra_lang'); }catch(e){}
      if(saved) return setLang(saved);
      const nav = (navigator.language || '').toLowerCase();
      if(nav.startsWith('it')) setLang('it'); else setLang('en');
    }

    document.getElementById('btn-en').addEventListener('click', ()=>setLang('en'));
    document.getElementById('btn-it').addEventListener('click', ()=>setLang('it'));
    initLang();

    // --- Fake-live timer: tick card timestamps each 60s, bump KPI occasionally
    const cards = [...document.querySelectorAll('.card[data-mins]')];
    function renderAgo(el, mins){
      if(mins < 60) el.textContent = `${mins}m ago`;
      else el.textContent = `${Math.floor(mins/60)}h ago`;
    }
    // initialize mins from data-mins attr
    cards.forEach(c=>{
      const mins = parseInt(c.getAttribute('data-mins')||'0',10);
      const ago = c.querySelector('.ago'); if(ago) renderAgo(ago, mins);
    });

    // increment minutes every 60s
    setInterval(()=>{
      cards.forEach(c=>{
        const cur = parseInt(c.getAttribute('data-mins')||'0',10) + 1;
        c.setAttribute('data-mins', String(cur));
        const ago = c.querySelector('.ago'); if(ago) renderAgo(ago, cur);
      });
    }, 60000);

    // bump KPI + pulse one random card every ~2–3 mins
    function pulseOne(){
      const pool = cards.length? cards : [];
      if(pool.length){
        const pick = pool[Math.floor(Math.random()*pool.length)];
        pick.classList.remove('pulse'); void pick.offsetWidth; pick.classList.add('pulse');
      }
      const leadsEl = document.getElementById('kpi-leads');
      const n = parseInt(leadsEl.textContent,10) || 8;
      leadsEl.textContent = n + 1;
      document.getElementById('kpi-card-leads').classList.remove('pulse');
      void document.getElementById('kpi-card-leads').offsetWidth;
      document.getElementById('kpi-card-leads').classList.add('pulse');

      // subtle subtext tick
      const sub = document.getElementById('live-sub');
      if(sub && /(\d+)/.test(sub.textContent)){
        const m = Number(RegExp.$1)+1;
        sub.textContent = sub.textContent.replace(/\d+/, String(m));
      }
    }
    setInterval(pulseOne, 140000); // 140s

    // Refresh (demo) button triggers immediate pulse
    document.getElementById('btn-refresh').addEventListener('click', (e)=>{ e.preventDefault(); pulseOne(); });
  </script>
</body>
</html>
