<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Kintra — From listing to leads, faster.</title>
<meta name="description" content="Kintra helps real estate teams respond faster, structure conversations, and book more viewings — across WhatsApp and web.">
<link rel="icon" href="data:,">
<style>
  :root{
    --bg:#0b1220; --panel:#0f172a; --card:#111a2c; --border:#22304b;
    --fg:#f5f7fb; --muted:#9aa3b5; --accent:#0ea5e9; --good:#10b981; --warn:#f59e0b; --bad:#ef4444;
  }
  *{box-sizing:border-box}
  body{margin:0;background:radial-gradient(1200px 600px at 70% -10%, #16315b 0%, #0b1220 55%);color:var(--fg);
       font:15px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  a{color:var(--accent);text-decoration:none}
  .wrap{max-width:1080px;margin:0 auto;padding:24px}
  header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px}
  .brand{display:flex;align-items:center;gap:10px}
  .brand img{width:28px;height:28px}
  .brand b{letter-spacing:.2px}
  .hero{display:grid;grid-template-columns:1.1fr .9fr;gap:24px;align-items:center;padding:20px;border:1px solid var(--border);border-radius:16px;background:rgba(15,23,42,.5)}
  h1{font-size:32px;line-height:1.2;margin:0 0 8px}
  h2{font-size:22px;margin:0 0 6px}
  p.lead{color:#cfe4ff;margin:0 0 16px}
  .ctas{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0 0}
  .btn{display:inline-block;background:var(--accent);color:#fff;border:0;border-radius:10px;padding:10px 14px}
  .btn.ghost{background:transparent;color:var(--accent);border:1px solid var(--accent)}
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin:28px 0}
  .card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px}
  .muted{color:var(--muted)}
  .two{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin:24px 0}
  .panel{background:#0e1729;border:1px solid #2a3a57;border-radius:12px;padding:14px}
  label{display:block;margin:6px 0 4px;color:#c7cfda}
  input,textarea{width:100%;background:#0e1729;border:1px solid #2a3a57;color:var(--fg);padding:10px;border-radius:10px;outline:none}
  textarea{min-height:42px;resize:vertical}
  .small{font-size:13px}
  footer{margin:26px 0 6px;color:#95a3bd}
  .kbadge{display:inline-block;border:1px solid var(--border);padding:4px 8px;border-radius:999px;color:#c7cfda}
  @media (max-width:900px){
    .hero{grid-template-columns:1fr}
    .grid{grid-template-columns:1fr}
    .two{grid-template-columns:1fr}
  }
</style>
</head>
<body>
<div class="wrap">

  <!-- Top -->
  <header>
    <div class="brand">
      <img src="./img/logo.png.png" alt="" onerror="this.style.display='none'">
      <b>Kintra</b>
    </div>
    <span class="kbadge">Pilot • IT + WhatsApp</span>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div>
      <h1>From listing to leads, faster.</h1>
      <p class="lead">Kintra helps real estate teams respond faster, structure conversations, and book more viewings — across WhatsApp and web.</p>
      <div class="ctas">
        <a class="btn" href="#pilot">Request Pilot Access</a>
        <a class="btn ghost" href="./deck.html">View Live Deck</a>
        <a class="btn ghost" href="./deck/Kintra_PilotDeck_v1.pdf" target="_blank" rel="noopener">View Deck PDF</a>
        <a class="btn" href="./dashboard.html">Preview Dashboard</a>
      </div>
    </div>
    <div>
      <div class="card">
        <h2>WhatsApp Preview</h2>
        <p class="muted small">Native feel. Italian-ready. Faster replies → more viewings.</p>
        <div class="panel" style="font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial; background:#0f172a;">
          <div style="display:flex;gap:8px;align-items:flex-start;margin-bottom:10px">
            <div style="background:#0b5;width:10px;height:10px;border-radius:50%"></div>
            <div style="background:#0b5;color:#fff;padding:10px 12px;border-radius:12px 12px 12px 4px;max-width:80%">
              Buongiorno, l’appartamento in Via Torino è disponibile?
            </div>
          </div>
          <div style="display:flex;gap:8px;align-items:flex-start;justify-content:flex-end">
            <div style="background:#111827;color:#e5e7eb;padding:10px 12px;border-radius:12px 12px 4px 12px;max-width:80%">
              Buongiorno! Sì, disponibile. Preferisce una visita oggi alle 17:00?
            </div>
            <div style="background:#1f2937;width:10px;height:10px;border-radius:50%"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits -->
  <section class="grid">
    <div class="card">
      <h2>Faster responses</h2>
      <p class="muted">Structure and translate replies in seconds — fewer delays, more booked viewings.</p>
    </div>
    <div class="card">
      <h2>Nothing slips</h2>
      <p class="muted">Summaries + next-steps ensure every lead is nurtured, across WhatsApp and web.</p>
    </div>
    <div class="card">
      <h2>Pilot in 2–4 weeks</h2>
      <p class="muted">Lightweight setup, run with 3–5 live interactions, measure minutes saved.</p>
    </div>
  </section>

  <!-- 10-second demo -->
  <section class="two" id="demo">
    <div class="panel">
      <h2>Try a 10-second demo</h2>
      <label for="q">Type a message (IT or EN):</label>
      <textarea id="q" placeholder="Esempio: Posso visitare l’appartamento oggi?"></textarea>
      <div class="small muted" id="langNote" style="margin:6px 0 8px">
        Auto-detect: <span id="langGuess">…</span>
      </div>
      <button class="btn" id="testBtn">Run Demo</button>
      <div id="result" class="small" style="margin-top:10px;color:#cfe4ff"></div>
    </div>
    <div class="panel">
      <h2>Testimonials</h2>
      <p class="muted">“Kintra ha fatto risparmiare tempo reale agli agenti. Le risposte sono più rapide e i follow-up non saltano.”<br><span class="small">— Partner pilota</span></p>
      <p class="muted">“Configurazione semplice. Abbiamo collegato WhatsApp + web e visto valore nella stessa settimana.”<br><span class="small">— Agency lead</span></p>
    </div>
  </section>

  <!-- Pilot form -->
  <section class="two" id="pilot">
    <div class="panel">
      <h2>Request Pilot Access</h2>
      <label for="name">Name</label>
      <input id="name" placeholder="Alex Rossi">
      <label for="email">Work email</label>
      <input id="email" placeholder="alex.rossi@agency.it">
      <label for="flow">What’s your current workflow? (optional)</label>
      <textarea id="flow" placeholder="Gestiamo inbound su WhatsApp + email; vogliamo risposte più rapide…"></textarea>
      <button class="btn" id="pilotBtn">Join Pilot Waitlist</button>
      <p class="small muted" id="pilotNote" style="margin-top:8px">No spam. Limited early access.</p>
    </div>
    <div class="panel">
      <h2>Why teams pilot Kintra</h2>
      <ul class="muted">
        <li>WhatsApp-native flows for Italian clients</li>
        <li>Smart summaries + suggested replies</li>
        <li>Clear ROI: minutes saved, more viewings booked</li>
      </ul>
      <p class="small muted">Prefer email? <a href="mailto:pilot@kintra.xyz">pilot@kintra.xyz</a></p>
    </div>
  </section>

  <footer>
    © 2025 Kintra. Pilot inquiries: <a href="mailto:pilot@kintra.xyz">pilot@kintra.xyz</a>
  </footer>
</div>

<script>
  // ===== Config =====
  const API_BASE = 'https://kintra-api.founder-60b.workers.dev'.trim();

  // ===== 10-second demo handler =====
  const qEl = document.getElementById('q');
  const resEl = document.getElementById('result');
  const langNote = document.getElementById('langNote');
  const langGuess = document.getElementById('langGuess');
  const btn = document.getElementById('testBtn');

  function guessLang(text){
    // Tiny heuristic while backend is mocked
    const itWords = ['buongiorno','appartamento','oggi','visita','posso','grazie','documenti','via','disponibile','preferisce'];
    const t = (text||'').toLowerCase();
    const hits = itWords.reduce((n,w)=>n+(t.includes(w)?1:0),0);
    return hits>=1 ? 'Italiano' : 'English';
  }

  btn.onclick = async ()=>{
    const text = (qEl.value || '').trim() || 'Ciao, vorrei informazioni';
    resEl.textContent = 'Thinking…';
    // Update auto-detect label immediately
    const g = guessLang(text);
    if (langGuess) langGuess.textContent = g;

    try{
      const res = await fetch(API_BASE + '/api/prompt', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ text })
      });
      const json = await res.json();
      // Show a friendly result while we mock
      // Expect shape: { ok:true, result:{ input, normalized, italian_hint?, lang? }, ts:... }
      const hint = json?.result?.italian_hint;
      const lang = json?.result?.lang || (hint ? 'Italiano' : g);
      if (langGuess) langGuess.textContent = lang;
      resEl.textContent = 'OK → received: ' + JSON.stringify(json);
    }catch(e){
      resEl.textContent = 'Error: ' + e.message;
    }
  };

  // Initialize language note on load
  if (langGuess) langGuess.textContent = '—';

  // ===== Pilot form (mock submit to API worker echo) =====
  const nameEl = document.getElementById('name');
  const emailEl = document.getElementById('email');
  const flowEl = document.getElementById('flow');
  const pilotBtn = document.getElementById('pilotBtn');
  const pilotNote = document.getElementById('pilotNote');

  pilotBtn.onclick = async ()=>{
    const payload = {
      name: (nameEl.value||'').trim(),
      email: (emailEl.value||'').trim(),
      flow: (flowEl.value||'').trim(),
      ts: new Date().toISOString()
    };
    pilotBtn.disabled = true; pilotBtn.textContent = 'Submitting…';
    try{
      const res = await fetch(API_BASE + '/api/prompt', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ text: 'PILOT_LEAD ' + JSON.stringify(payload) })
      });
      await res.text(); // we don’t need the body; this is just an echo/receipt
      pilotNote.textContent = 'Thanks — we’ll be in touch within 24 hours.';
      pilotNote.style.color = '#cfe4ff';
      nameEl.value = emailEl.value = flowEl.value = '';
    }catch(e){
      pilotNote.textContent = 'Sorry, something went wrong. Please email pilot@kintra.xyz';
      pilotNote.style.color = '#fca5a5';
    }finally{
      pilotBtn.disabled = false; pilotBtn.textContent = 'Join Pilot Waitlist';
    }
  };
</script>
</body>
</html>
