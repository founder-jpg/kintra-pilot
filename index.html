<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kintra — Pilot (Italy)</title>
  <style>
    :root {
      --navy: #243044;
      --gray: #5a677a;
      --gold: #c6a048;
      --bg: #f7f9fc;
      --white: #ffffff;
      --green: #e2f7e0; /* light green bubble */
      --green-border: #a7d7a0;
    }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; color: var(--gray); background: var(--bg); }
    a { color: var(--navy); text-decoration: none; }
    a:hover { text-decoration: underline; }

    .container { max-width: 1080px; margin: 0 auto; padding: 24px; }
    header { display: flex; align-items: center; justify-content: space-between; }
    .brand { color: var(--navy); font-weight: 700; font-size: 22px; letter-spacing: 0.2px; }

    .lang-toggle { display: inline-flex; align-items: center; gap: 8px; border: 1px solid #d7dee9; padding: 8px 12px; border-radius: 12px; background: var(--white); cursor: pointer; }
    .flag { width: 20px; height: 14px; border-radius: 2px; box-shadow: 0 0 0 1px rgba(0,0,0,0.06) inset; }

    .hero { margin: 24px 0 8px; color: var(--navy); font-size: 28px; font-weight: 800; }
    .sub { margin: 4px 0 24px; color: var(--gray); }

    .plaque { background: linear-gradient(180deg, #f6e9c8, #edd9a4); border: 1px solid #e0c98a; border-radius: 18px; padding: 18px 20px; color: #5b4819; box-shadow: 0 1px 0 #e8d5a5 inset, 0 2px 10px rgba(0,0,0,0.04); }
    .kicker { height: 6px; background: var(--gold); border-radius: 999px; margin: 10px auto 22px; width: 160px; }

    .pricing { font-weight: 600; color: var(--navy); margin: 6px 0 28px; }

    .section { background: var(--white); border: 1px solid #e6ebf3; border-radius: 18px; padding: 18px; margin: 18px 0; box-shadow: 0 2px 10px rgba(36,48,68,0.03); }
    .section h3 { margin: 0 0 10px; color: var(--navy); }
    .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 16px; }

    /* WhatsApp Smart Reply */
    .wa { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .bubble { background: var(--green); border: 1px solid var(--green-border); padding: 12px 14px; border-radius: 12px; line-height: 1.35; }
    .label { font-size: 12px; color: #6a778a; margin-bottom: 6px; }
    .next { margin-top: 8px; font-weight: 600; }

    /* Dashboard mini */
    .card { display: flex; flex-direction: column; gap: 10px; }
    .thumb { width: 100%; border: 1px solid #dfe6f2; border-radius: 14px; overflow: hidden; background: #f0f4fa; }
    .thumb img { width: 100%; display: block; }
    .cta-row { display: flex; align-items: center; gap: 10px; justify-content: space-between; }
    .btn { display: inline-flex; align-items: center; justify-content: center; padding: 10px 14px; border-radius: 12px; border: 1px solid #d7dee9; background: var(--white); cursor: pointer; font-weight: 600; }

    /* Listing summary preview */
    .listing { display: grid; grid-template-columns: 160px 1fr; gap: 16px; align-items: center; }
    .tags { display: flex; flex-wrap: wrap; gap: 6px; margin: 6px 0; }
    .chip { padding: 6px 10px; border: 1px solid #dfe6f2; border-radius: 999px; font-size: 12px; color: var(--navy); background: #f8fbff; }
    .actions { display: flex; align-items: center; gap: 10px; margin-top: 6px; }

    /* Meta demo */
    .muted { font-size: 13px; color: #7a889c; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

    footer { margin: 36px 0 12px; font-size: 12px; color: #95a1b3; text-align: center; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">Kintra — Pilot (Italy)</div>
      <button id="langBtn" class="lang-toggle" aria-label="Toggle language">
        <svg class="flag" viewBox="0 0 9 6" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><rect width="9" height="6" fill="#012169"/><rect width="9" height="6" fill="none" stroke="#fff" stroke-width="1.2"/><path d="M0,0 L9,6 M9,0 L0,6" stroke="#fff" stroke-width="1.2"/></svg>
        <svg class="flag" viewBox="0 0 9 6" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><rect width="3" height="6" x="0" fill="#009246"/><rect width="3" height="6" x="3" fill="#fff"/><rect width="3" height="6" x="6" fill="#ce2b37"/></svg>
        <span id="langLabel">Language</span>
      </button>
    </header>

    <h1 class="hero" data-i18n="hero_title">Pilot for real estate partners</h1>
    <p class="sub" data-i18n="hero_sub">WhatsApp Smart Replies + PulseView dashboard to save time in 30 days.</p>

    <div class="plaque">
      <strong data-i18n="charter_heading">Kintra Advisor Charter</strong> — 
      <span data-i18n="charter_copy">Light, optional role: 1–2 warm intros, zero ops load, credited by permission.</span>
    </div>
    <div class="kicker"></div>

    <p class="pricing" data-i18n="pricing_line">€1.5–2k (30 days) · 1 niche · 2–3 KPIs. If it doesn’t save time in 30 days, don’t continue.</p>

    <!-- WhatsApp Smart Reply Section -->
    <section class="section" id="wa">
      <h3 data-i18n="wa_title">WhatsApp Smart Reply</h3>
      <div class="wa">
        <div>
          <div class="label" data-i18n="wa_before_label">Before</div>
          <div class="bubble" data-i18n="wa_before_text">Hi, is the 2BR in Milano still available? What’s the monthly price and can I view it this week?</div>
        </div>
        <div>
          <div class="label" data-i18n="wa_after_label">After</div>
          <div class="bubble">
            <div data-i18n="wa_after_l1">Thanks for your message — the 2BR is available.</div>
            <div data-i18n="wa_after_l2">Monthly is €1,900 incl. building fees; utilities separate.</div>
            <div data-i18n="wa_after_l3">We can arrange a viewing Wed–Fri 14:00–18:00.</div>
            <div class="next" data-i18n="wa_after_next">Next step: share your preferred time and I’ll confirm the slot.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Dashboard Mini -->
    <section class="section" id="dashboard">
      <h3 data-i18n="dash_title">PulseView Dashboard (mini)</h3>
      <div class="card">
        <div class="thumb"><img id="dashImg" alt="Dashboard preview" loading="lazy"></div>
        <div class="cta-row">
          <p class="muted" data-i18n="dash_copy">Live metrics for leads, response time, and viewing pipeline.</p>
          <a class="btn" href="./dashboard.html" data-i18n="dash_cta">Open live dashboard →</a>
        </div>
      </div>
    </section>

    <!-- Listing Summary (Preview) -->
    <section class="section" id="listing-preview">
      <h3 data-i18n="listing_title">Listing Summary (preview)</h3>
      <div class="listing">
        <div class="thumb"><img id="listImg" alt="Listing thumbnail" loading="lazy"></div>
        <div>
          <div style="color: var(--navy); font-weight:700" data-i18n="listing_head">2BR Apartment with Balcony — Milano</div>
          <div class="tags">
            <span class="chip">2BR</span>
            <span class="chip">80 m²</span>
            <span class="chip">Milano</span>
            <span class="chip" data-i18n="chip_balcony">Balcony</span>
          </div>
          <div class="actions">
            <a href="./dashboard.html#listing" class="btn" data-i18n="listing_link">View listing</a>
            <button id="prefillWA" class="btn" data-i18n="listing_next">Next action (WA)</button>
          </div>
          <p class="muted" data-i18n="listing_note">One‑glance details, tags, and a ready‑to‑send next action.</p>
        </div>
      </div>
    </section>

    <!-- Meta Demo: Reveal Test Number -->
    <section class="section" id="meta">
      <h3 data-i18n="meta_title">Meta demo</h3>
      <p class="muted" data-i18n="meta_tip">Reveal test number. Tip: try saying “hello”.</p>
      <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap">
        <button id="revealBtn" class="btn" data-i18n="reveal_btn">Reveal number</button>
        <span class="mono" id="testNumber" aria-live="polite" style="min-width:120px"></span>
        <button id="sendBtn" class="btn" data-i18n="send_btn">Send</button>
      </div>
    </section>

    <footer>© Kintra — Pilot build</footer>
  </div>

  <script>
    // --- Simple image fallback loader (./img → ./images) ---
    function loadWithFallback(imgEl, primary, fallback) {
      const tryPrimary = new Image();
      tryPrimary.onload = () => { imgEl.src = primary; };
      tryPrimary.onerror = () => {
        const tryFallback = new Image();
        tryFallback.onload = () => { imgEl.src = fallback; };
        tryFallback.onerror = () => { imgEl.alt += ' (image unavailable)'; };
        tryFallback.src = fallback;
      };
      tryPrimary.src = primary;
    }

    // Dashboard and Listing preview images
    loadWithFallback(
      document.getElementById('dashImg'),
      './img/dashboard%20preview%20screen.PNG',
      './images/dashboard%20preview%20screen.PNG'
    );
    loadWithFallback(
      document.getElementById('listImg'),
      './img/cta.jpg',
      './images/cta.jpg'
    );

    // --- EN/IT dictionary ---
    const dict = {
      en: {
        hero_title: 'Pilot for real estate partners',
        hero_sub: 'WhatsApp Smart Replies + PulseView dashboard to save time in 30 days.',
        charter_heading: 'Kintra Advisor Charter',
        charter_copy: 'Light, optional role: 1–2 warm intros, zero ops load, credited by permission.',
        pricing_line: '€1.5–2k (30 days) · 1 niche · 2–3 KPIs. If it doesn’t save time in 30 days, don’t continue.',
        wa_title: 'WhatsApp Smart Reply',
        wa_before_label: 'Before',
        wa_before_text: 'Hi, is the 2BR in Milano still available? What’s the monthly price and can I view it this week?',
        wa_after_label: 'After',
        wa_after_l1: 'Thanks for your message — the 2BR is available.',
        wa_after_l2: 'Monthly is €1,900 incl. building fees; utilities separate.',
        wa_after_l3: 'We can arrange a viewing Wed–Fri 14:00–18:00.',
        wa_after_next: 'Next step: share your preferred time and I’ll confirm the slot.',
        dash_title: 'PulseView Dashboard (mini)',
        dash_copy: 'Live metrics for leads, response time, and viewing pipeline.',
        dash_cta: 'Open live dashboard →',
        listing_title: 'Listing Summary (preview)',
        listing_head: '2BR Apartment with Balcony — Milano',
        chip_balcony: 'Balcony',
        listing_link: 'View listing',
        listing_next: 'Next action (WA)',
        listing_note: 'One‑glance details, tags, and a ready‑to‑send next action.',
        meta_title: 'Meta demo',
        meta_tip: 'Reveal test number. Tip: try saying “hello”.',
        reveal_btn: 'Reveal number',
        send_btn: 'Send',
      },
      it: {
        hero_title: 'Pilot per partner immobiliari',
        hero_sub: 'Risposte Smart su WhatsApp + dashboard PulseView per risparmiare tempo in 30 giorni.',
        charter_heading: 'Kintra Advisor Charter',
        charter_copy: 'Ruolo leggero e facoltativo: 1–2 intros calde, zero carico operativo, credito su permesso.',
        pricing_line: '€1.5–2k (30 giorni) · 1 nicchia · 2–3 KPI. Se non fa risparmiare tempo in 30 giorni, non continuare.',
        wa_title: 'Risposta Smart WhatsApp',
        wa_before_label: 'Prima',
        wa_before_text: 'Ciao, il bilocale a Milano è ancora disponibile? Qual è il canone mensile e posso vederlo questa settimana?',
        wa_after_label: 'Dopo',
        wa_after_l1: 'Grazie per il messaggio — il bilocale è disponibile.',
        wa_after_l2: 'Il canone è €1.900 incluse spese condominiali; utenze a parte.',
        wa_after_l3: 'Possiamo fissare una visita Mer–Ven 14:00–18:00.',
        wa_after_next: 'Prossimo passo: indica l’orario preferito e confermo lo slot.',
        dash_title: 'PulseView Dashboard (mini)',
        dash_copy: 'Metriche live su lead, tempo di risposta e pipeline visite.',
        dash_cta: 'Apri dashboard live →',
        listing_title: 'Riepilogo Annuncio (anteprima)',
        listing_head: 'Bilocale con Balcone — Milano',
        chip_balcony: 'Balcone',
        listing_link: 'Vedi annuncio',
        listing_next: 'Prossimo passo (WA)',
        listing_note: 'Dettagli a colpo d’occhio, tag e un’azione pronta da inviare.',
        meta_title: 'Meta demo',
        meta_tip: 'Rivela numero di test. Suggerimento: prova a dire “ciao”.',
        reveal_btn: 'Mostra numero',
        send_btn: 'Invia',
      }
    };

    let currentLang = 'en';

    function applyLang(lang) {
      const map = dict[lang];
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (map[key]) el.textContent = map[key];
      });
      document.getElementById('langLabel').textContent = (lang === 'en') ? 'Language' : 'Lingua';
      currentLang = lang;
    }

    document.getElementById('langBtn').addEventListener('click', () => {
      applyLang(currentLang === 'en' ? 'it' : 'en');
    });
    applyLang('en');

    // Prefill WA template demo (no emojis; simple console + alert)
    document.getElementById('prefillWA').addEventListener('click', () => {
      const msg = (currentLang === 'en')
        ? 'Hi, I\'m interested in the 2BR in Milano. Next step?'
        : 'Ciao, sono interessato al bilocale a Milano. Prossimo passo?';
      alert('Prefill message for WA:\n\n' + msg);
      console.log('[WA Prefill]', msg);
    });

    // Meta: Reveal test number + Send
    const hiddenNumber = '+39 320 000 0000';
    document.getElementById('revealBtn').addEventListener('click', () => {
      document.getElementById('testNumber').textContent = hiddenNumber;
    });
    document.getElementById('sendBtn').addEventListener('click', () => {
      const text = (currentLang === 'en') ? 'hello' : 'ciao';
      alert('Would send \'' + text + '\' to ' + (document.getElementById('testNumber').textContent || '…'));
    });
  </script>
</body>
</html>
