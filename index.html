<script>
/* —— Minimal EN/IT toggle: text-only patch (no layout/CSS changes) —— */
/* Assumes these IDs already exist in your current page:
   #lang-en  #lang-it  #lang-label
   #start-pilot  #name  #email  #wf
*/
(function(){
  const dict = {
    en: {
      langLabel: "Language",
      pilotTitle: "Start your 30-day pilot",
      namePH: "Name (e.g. Alex Rossi)",
      emailPH: "Work email (e.g. alex.rossi@agency.it)",
      wfPH: "What’s your current workflow? (e.g. inbound via WhatsApp + email, want faster replies…)"
    },
    it: {
      langLabel: "Lingua",
      pilotTitle: "Avvia il pilot di 30 giorni",
      namePH: "Nome (es. Alex Rossi)",
      emailPH: "Email lavoro (es. alex.rossi@agency.it)",
      wfPH: "Qual è il tuo flusso attuale? (es. inbound su WhatsApp + email, risposte più rapide…)"
    }
  };

  const els = {
    enBtn: document.getElementById('lang-en'),
    itBtn: document.getElementById('lang-it'),
    label: document.getElementById('lang-label'),
    pilotTitle: document.getElementById('start-pilot'),
    name: document.getElementById('name'),
    email: document.getElementById('email'),
    wf: document.getElementById('wf')
  };

  function setActive(btn, on){ btn && btn.classList.toggle('active', on); }

  function setLang(L){
    const d = dict[L] || dict.en;
    document.documentElement.lang = L;
    if (els.label) els.label.textContent = d.langLabel;
    if (els.pilotTitle) els.pilotTitle.textContent = d.pilotTitle;
    if (els.name) els.name.placeholder = d.namePH;
    if (els.email) els.email.placeholder = d.emailPH;
    if (els.wf) els.wf.placeholder = d.wfPH;
    setActive(els.enBtn, L === 'en');
    setActive(els.itBtn, L === 'it');
    try { localStorage.setItem('kintra_lang', L); } catch(e){}
  }

  els.enBtn && (els.enBtn.onclick = () => setLang('en'));
  els.itBtn && (els.itBtn.onclick = () => setLang('it'));

  const initial = (()=>{ try { return localStorage.getItem('kintra_lang') || 'en'; } catch(e){ return 'en'; }})();
  setLang(initial);
})();
</script>
