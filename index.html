const WORKER_BASE = 'https://kintra-api.founder-60b.workers.dev';

async function testCall() {
  const resultEl = document.getElementById('result');
  const q = (document.getElementById('q')?.value || '').trim() || 'ciao';
  resultEl.textContent = 'Running test...';
  try {
    const res = await fetch(WORKER_BASE + '/api/prompt', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ text: q })
    });
    const json = await res.json();
    resultEl.textContent = 'OK â†’ received: ' + JSON.stringify(json);
  } catch (e) {
    resultEl.textContent = 'Error: ' + e.message;
  }
}
