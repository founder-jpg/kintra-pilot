<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kintra ‚Äî From listing to leads, faster.</title>
  <meta name="description" content="Kintra helps real-estate teams reply faster on WhatsApp and web, with on-brand, ready-to-send messages and next actions." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#ffffff;
      --fg:#0f172a;      /* slate-900 */
      --muted:#475569;   /* slate-600 */
      --brand:#2563eb;   /* blue-600 */
      --brand-700:#1d4ed8;
      --line:#e2e8f0;    /* slate-200 */
      --card:#f8fafc;    /* slate-50 */
      --good:#16a34a;
      --warn:#f97316;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:1080px;margin:0 auto;padding:24px}
    header{display:flex;align-items:center;gap:14px;padding:8px 0 20px}
    header img.logo{width:28px;height:28px;object-fit:contain}
    header .brand{font-weight:800;letter-spacing:.2px}
    nav{margin-left:auto;display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .btn{display:inline-block;border:1px solid var(--line);background:#fff;color:var(--fg);padding:8px 12px;border-radius:10px;font-weight:600;font-size:14px}
    .btn.primary{background:var(--brand);border-color:var(--brand);color:#fff}
    .btn.primary:hover{background:var(--brand-700)}
    .btn.ghost{background:#fff}
    .lang{border:1px solid var(--line);border-radius:10px;overflow:hidden}
    .lang button{border:0;background:#fff;padding:8px 10px;font-weight:600;cursor:pointer}
    .lang button.active{background:var(--brand);color:#fff}
    .hero{display:grid;grid-template-columns:1.15fr .85fr;gap:28px;padding:28px 0;border-top:1px solid var(--line);border-bottom:1px solid var(--line)}
    @media (max-width:900px){.hero{grid-template-columns:1fr}}
    .h1{font-size:34px;line-height:1.15;font-weight:800;margin:6px 0 12px}
    .sub{font-size:17px;color:var(--muted)}
    .stack{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:16px}
    .split{display:grid;grid-template-columns:1fr 1fr;gap:20px}
    @media (max-width:900px){.split{grid-template-columns:1fr}}
    .label{font-size:12px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin-bottom:8px}
    input,textarea{width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px;font:inherit}
    textarea{min-height:88px;resize:vertical}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .muted{color:var(--muted);font-size:14px}
    .ok{color:var(--good);font-weight:700}
    .foot{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:24px;padding-top:20px;border-top:1px solid var(--line);font-size:14px;color:var(--muted)}
    .kpi{display:flex;gap:14px;flex-wrap:wrap;margin-top:10px}
    .pill{border:1px solid var(--line);padding:6px 10px;border-radius:999px;font-weight:600;font-size:13px;background:#fff}
    .hint{font-size:13px;color:var(--muted)}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:13px}
    .success{border-left:4px solid var(--good);padding-left:10px}
    .warn{border-left:4px solid var(--warn);padding-left:10px}
    .badge{display:inline-flex;align-items:center;gap:6px;background:#eef2ff;color:#3730a3;border-radius:999px;padding:6px 10px;font-weight:700;font-size:12px}
    .tight{margin-top:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <img class="logo" src="./img/logo.png.png" alt="Kintra logo" />
      <div class="brand">Kintra</div>
      <nav>
        <a class="btn ghost" href="./dashboard.html" id="btnDash">Preview Dashboard</a>
        <a class="btn ghost" href="./deck.html" id="btnDeck">View Live Deck</a>
        <a class="btn ghost" href="./deck/Kintra_PilotDeck_v1.pdf" id="btnPDF">View Deck PDF</a>
        <a class="btn primary" href="#pilot" id="btnCTA">Request Pilot Access</a>
        <div class="lang">
          <button id="enBtn" class="active">EN</button>
          <button id="itBtn">IT</button>
        </div>
      </nav>
    </header>

    <!-- HERO -->
    <section class="hero" id="top">
      <div>
        <div class="badge" id="heroBadge">8 agencies testing now</div>
        <h1 class="h1" id="heroTitle">From listing to leads, faster.</h1>
        <p class="sub" id="heroSub">
          Kintra helps real-estate teams reply faster, keep conversations structured, and book more viewings ‚Äî across WhatsApp and web.
        </p>
        <div class="kpi">
          <span class="pill" id="kpi1">‚è±Ô∏è 30+ min saved/rep daily</span>
          <span class="pill" id="kpi2">üáÆüáπ Native-tone replies</span>
          <span class="pill" id="kpi3">‚úÖ No thread slips</span>
        </div>
        <div class="stack">
          <a class="btn primary" href="#pilot" id="ctaPrimary">Request Pilot Access</a>
          <a class="btn" href="#demo" id="ctaDemo">Try a 10-second demo</a>
        </div>
        <p class="hint tight" id="heroWhy"><strong>Why this matters:</strong> time = money. Faster replies ‚Üí more viewings booked.</p>
      </div>

      <!-- 10-SECOND DEMO -->
      <div class="card" id="demo">
        <div class="label" id="demoLabel">Try a 10-second demo</div>
        <p class="hint" id="demoHint">
          Type any message (IT/EN). Click <em>Run</em>, then <em>AI suggests reply</em> to see a ready-to-send draft. <span class="mono">No data stored.</span>
        </p>
        <textarea id="q" placeholder="e.g., Client asks if Friday 18:30 works for a viewing‚Ä¶"></textarea>
        <div class="row" style="margin-top:10px">
          <button class="btn primary" id="btnRun">Run</button>
          <button class="btn" id="btnReply">AI suggests reply</button>
          <button class="btn" id="btnSummary">Generate summary</button>
        </div>
        <div style="margin-top:14px">
          <div class="label">Result</div>
          <div id="result" class="mono card" style="background:#fff"></div>
        </div>
        <div style="margin-top:10px">
          <div class="label">AI suggested reply</div>
          <div id="replyOut" class="card success" style="background:#ecfdf5">‚Äî</div>
        </div>
        <div style="margin-top:10px">
          <div class="label">Summary</div>
          <div id="summaryOut" class="card">‚Äî</div>
        </div>
      </div>
    </section>

    <!-- VALUE BLOCKS -->
    <section class="split" style="margin-top:28px">
      <div class="card">
        <div class="label" id="val1h">Faster responses</div>
        <p id="val1p">On-brand replies in seconds ‚Äî fewer delays, more viewings booked.</p>
      </div>
      <div class="card">
        <div class="label" id="val2h">Nothing slips</div>
        <p id="val2p">Each message can create a next step ‚Äî follow-ups don‚Äôt get lost.</p>
      </div>
    </section>

    <!-- WHATSAPP TEST (Meta test number) -->
    <section class="card" style="margin-top:28px">
      <div class="label" id="waLabel">Send via WhatsApp (Meta demo)</div>
      <p class="hint" id="waHint">
        Uses Meta Cloud API (test number). Make sure the recipient first sends <span class="mono">hello</span> to your Meta test number.
      </p>
      <div class="split">
        <div>
          <div class="label" id="waToLab">Recipient phone (E.164)</div>
          <input id="waTo" placeholder="+39‚Ä¶ or +351‚Ä¶" />
        </div>
        <div>
          <div class="label" id="waMsgLab">Message</div>
          <input id="waMsg" placeholder="e.g., Ciao! Va bene domani alle 18:30?" />
        </div>
      </div>
      <div class="row" style="margin-top:12px">
        <button class="btn primary" id="btnWA">Send WhatsApp</button>
        <span class="hint" id="waNote">E.164 = +countrycode + number (no spaces). Example: +390212345678.</span>
      </div>
      <div style="margin-top:12px">
        <div class="label">Status</div>
        <div id="waOut" class="card mono">‚Äî</div>
      </div>
    </section>

    <!-- PILOT FORM -->
    <section id="pilot" class="card" style="margin-top:28px">
      <div class="label" id="pilotLab">Request Pilot Access</div>
      <div class="split">
        <div>
          <div class="label" id="nameLab">Name</div>
          <input id="name" placeholder="Alex Rossi" />
        </div>
        <div>
          <div class="label" id="mailLab">Work email</div>
          <input id="email" placeholder="alex.rossi@agency.it" />
        </div>
      </div>
      <div style="margin-top:12px">
        <div class="label" id="flowLab">What‚Äôs your current workflow? (optional)</div>
        <textarea id="flow" placeholder="Gestiamo gli inbound su WhatsApp + email, vogliamo risposte pi√π rapide‚Ä¶"></textarea>
      </div>
      <div class="row" style="margin-top:12px">
        <button class="btn primary" id="btnLead">Join Pilot Waitlist</button>
        <a class="btn ghost" href="mailto:pilot@kintra.xyz" id="mailAlt">Or email us</a>
      </div>
      <p class="hint" id="noSpam">No spam. Limited early access.</p>
      <div id="leadOut" class="card mono" style="margin-top:10px">‚Äî</div>
    </section>

    <!-- SOCIAL PROOF -->
    <section class="split" style="margin-top:28px">
      <div class="card">
        <p class="muted" id="t1">‚ÄúKintra saved our agents real time. Replies are faster, and follow-ups don‚Äôt slip.‚Äù<br><em>‚Äî Early partner (pilot)</em></p>
      </div>
      <div class="card">
        <p class="muted" id="t2">‚ÄúSetup was easy. We plugged in WhatsApp + web and started seeing value the same week.‚Äù<br><em>‚Äî Agency lead (pilot)</em></p>
      </div>
    </section>

    <div class="foot">
      <span id="copy">¬© 2025 Kintra. Pilot inquiries: pilot@kintra.xyz</span>
      <span class="mono" id="status">Ready.</span>
    </div>
  </div>

  <script>
    // === CONFIG ===
    const WORKER_PROMPT = 'https://kintra-api.founder-60b.workers.dev/api/prompt';
    const WORKER_WA     = 'https://kintra-wa-meta.founder-60b.workers.dev/api/wa';

    // === i18n minimal toggle ===
    const state = { lang: 'en', lastDemo: null };
    const $ = (id) => document.getElementById(id);

    function setLang(lang){
      state.lang = lang;
      $('enBtn').classList.toggle('active', lang==='en');
      $('itBtn').classList.toggle('active', lang==='it');

      const tr = {
        heroBadge: {en:'8 agencies testing now', it:'8 agenzie in test'},
        heroTitle: {en:'From listing to leads, faster.', it:'Dall‚Äôannuncio ai contatti, pi√π velocemente.'},
        heroSub: {
          en:'Kintra helps real-estate teams reply faster, keep conversations structured, and book more viewings ‚Äî across WhatsApp and web.',
          it:'Kintra aiuta i team immobiliari a rispondere pi√π velocemente, strutturare le conversazioni e fissare pi√π visite ‚Äî su WhatsApp e web.'
        },
        kpi1:{en:'‚è±Ô∏è 30+ min saved/rep daily', it:'‚è±Ô∏è 30+ min risparmiati/agente al giorno'},
        kpi2:{en:'üáÆüáπ Native-tone replies', it:'üáÆüáπ Risposte nel tono giusto'},
        kpi3:{en:'‚úÖ No thread slips', it:'‚úÖ Nessun seguito perso'},
        heroWhy:{en:'Why this matters: time = money. Faster replies ‚Üí more viewings booked.',
                 it:'Perch√© conta: tempo = denaro. Risposte pi√π rapide ‚Üí pi√π visite fissate.'},
        demoLabel:{en:'Try a 10-second demo', it:'Prova la demo in 10 secondi'},
        demoHint:{
          en:'Type any message (IT/EN). Click Run, then AI suggests reply to see a ready-to-send draft. No data stored.',
          it:'Scrivi un messaggio (IT/EN). Clicca Esegui, poi AI suggerisce risposta per vedere una bozza pronta all‚Äôinvio. Nessun dato salvato.'
        },
        val1h:{en:'Faster responses', it:'Risposte pi√π rapide'},
        val1p:{en:'On-brand replies in seconds ‚Äî fewer delays, more viewings booked.',
               it:'Risposte in pochi secondi ‚Äî meno attese, pi√π visite fissate.'},
        val2h:{en:'Nothing slips', it:'Nulla sfugge'},
        val2p:{en:'Each message can create a next step ‚Äî follow-ups don‚Äôt get lost.',
               it:'Ogni messaggio pu√≤ creare il prossimo passo ‚Äî i follow-up non si perdono.'},
        waLabel:{en:'Send via WhatsApp (Meta demo)', it:'Invia via WhatsApp (demo Meta)'},
        waHint:{en:'Uses Meta Cloud API (test number). Make sure the recipient first sends "hello" to your Meta test number.',
                it:'Usa Meta Cloud API (numero di test). Assicurati che il destinatario invii prima "hello" al tuo numero di test Meta.'},
        waToLab:{en:'Recipient phone (E.164)', it:'Numero destinatario (E.164)'},
        waMsgLab:{en:'Message', it:'Messaggio'},
        waNote:{en:'E.164 = +countrycode + number (no spaces). Example: +390212345678.',
                it:'E.164 = +prefisso paese + numero (senza spazi). Esempio: +390212345678.'},
        pilotLab:{en:'Request Pilot Access', it:'Richiedi l‚Äôaccesso al pilot'},
        nameLab:{en:'Name', it:'Nome'},
        mailLab:{en:'Work email', it:'Email lavoro'},
        flowLab:{en:'What‚Äôs your current workflow? (optional)', it:'Qual √® il tuo flusso attuale? (opz.)'},
        mailAlt:{en:'Or email us', it:'Oppure scrivici'},
        noSpam:{en:'No spam. Limited early access.', it:'Niente spam. Accesso anticipato limitato.'},
        t1:{en:'‚ÄúKintra saved our agents real time. Replies are faster, and follow-ups don‚Äôt slip.‚Äù\n‚Äî Early partner (pilot)',
            it:'‚ÄúKintra ha fatto risparmiare davvero tempo agli agenti. Risposte pi√π veloci e follow-up puntuali.‚Äù\n‚Äî Partner iniziale (pilot)'},
        t2:{en:'‚ÄúSetup was easy. We plugged in WhatsApp + web and started seeing value the same week.‚Äù\n‚Äî Agency lead (pilot)',
            it:'‚ÄúSetup semplice. Collegati WhatsApp + web e valore gi√† nella stessa settimana.‚Äù\n‚Äî Responsabile agenzia (pilot)'},
        btnCTA:{en:'Request Pilot Access', it:'Richiedi accesso al pilot'},
        ctaPrimary:{en:'Request Pilot Access', it:'Richiedi accesso al pilot'},
        ctaDemo:{en:'Try a 10-second demo', it:'Prova la demo in 10 secondi'},
        btnDash:{en:'Preview Dashboard', it:'Anteprima Dashboard'},
        btnDeck:{en:'View Live Deck', it:'Vedi il Deck'},
        btnPDF:{en:'View Deck PDF', it:'PDF del Deck'}
      };
      for (const id in tr){ if($(id)) $(id).innerText = tr[id][lang]; }

      // placeholders
      $('q').placeholder = (lang==='en')
        ? 'e.g., Client asks if Friday 18:30 works for a viewing‚Ä¶'
        : 'es.: Il cliente chiede se venerd√¨ alle 18:30 va bene per una visita‚Ä¶';
      $('waTo').placeholder = (lang==='en')? '+39‚Ä¶ or +351‚Ä¶' : '+39‚Ä¶ o +351‚Ä¶';
      $('waMsg').placeholder = (lang==='en')
        ? 'e.g., Ciao! Does 18:30 tomorrow work for you?'
        : 'es.: Ciao! Va bene domani alle 18:30?';
      $('flow').placeholder = (lang==='en')
        ? 'We handle inbound on WhatsApp + email, want faster replies‚Ä¶'
        : 'Gestiamo gli inbound su WhatsApp + email, vogliamo risposte pi√π rapide‚Ä¶';
    }

    $('enBtn').onclick = ()=> setLang('en');
    $('itBtn').onclick = ()=> setLang('it');
    setLang('en');

    // === DEMO ACTIONS ===
    $('btnRun').onclick = async ()=>{
      const txt = $('q').value.trim() || (state.lang==='en'
        ? 'Client would like a viewing Friday around 18:30. Ask if 18:30 works.'
        : 'Il cliente vorrebbe una visita venerd√¨ verso le 18:30. Chiedi se va bene 18:30.');
      $('result').textContent = 'Running‚Ä¶';
      $('replyOut').textContent = '‚Äî';
      $('summaryOut').textContent = '‚Äî';
      try{
        const res = await fetch(WORKER_PROMPT, {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify({ text: txt })
        });
        const json = await res.json();
        state.lastDemo = json;
        $('result').textContent = JSON.stringify(json, null, 2);
      }catch(e){
        $('result').textContent = 'Error: '+ e.message;
      }
    };

    $('btnReply').onclick = ()=>{
      const fallback = (state.lang==='en')
        ? 'Ciao! Does 18:30 on Friday work for you? I can confirm the viewing.'
        : 'Ciao! Va bene venerd√¨ alle 18:30? Posso confermare la visita.';
      if (!state.lastDemo){
        $('replyOut').textContent = fallback + '  (Tip: click ‚ÄúRun‚Äù first for a tailored reply.)';
        return;
      }
      // Prefer the worker‚Äôs italian_hint if present; otherwise format something clean.
      const hint = state.lastDemo?.result?.italian_hint || state.lastDemo?.italian_hint || fallback;
      $('replyOut').textContent = hint;
    };

    $('btnSummary').onclick = ()=>{
      const text = $('q').value.trim();
      if (!text){
        $('summaryOut').textContent = (state.lang==='en')
          ? 'No input yet. Type something above.'
          : 'Nessun testo inserito. Scrivi qualcosa sopra.';
        return;
      }
      // Very lightweight summary demo
      const whenMatch = text.match(/\b(\d{1,2}[:\.]?\d{0,2})\b/i) || text.match(/\b(1?\d)(?:am|pm)\b/i);
      const when = whenMatch ? whenMatch[0] : (state.lang==='en'?'a proposed time':'un orario proposto');
      $('summaryOut').textContent = (state.lang==='en')
        ? `Ask to confirm a viewing at ${when}; if accepted, send calendar slot and save thread.`
        : `Chiedi di confermare una visita alle ${when}; se accetta, invia slot in agenda e salva la conversazione.`;
    };

    // === WHATSAPP SEND (Meta test number flow) ===
    $('btnWA').onclick = async ()=>{
      const to = $('waTo').value.trim();
      const msg = $('waMsg').value.trim() || (state.lang==='en'
        ? 'Ciao! Quick test from Kintra.'
        : 'Ciao! Test rapido da Kintra.');
      if (!to){ $('waOut').textContent = 'Enter recipient in E.164 (e.g., +390212345678).'; return; }
      $('waOut').textContent = 'Sending‚Ä¶';
      try{
        const res = await fetch(WORKER_WA, {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify({ to, text: msg })
        });
        const text = await res.text();
        $('waOut').textContent = text;
      }catch(e){
        $('waOut').textContent = 'Error: ' + e.message;
      }
    };

    // === PILOT ‚ÄúLEAD‚Äù CAPTURE (simple echo to status; expand later) ===
    $('btnLead').onclick = ()=>{
      const name = $('name').value.trim();
      const email = $('email').value.trim();
      const flow = $('flow').value.trim();
      const payload = { name, email, flow, ts:new Date().toISOString() };
      $('leadOut').textContent = 'Thanks ‚Äî we‚Äôll be in touch within 24 hours.\n' + JSON.stringify(payload, null, 2);
      $('status').textContent = 'Lead captured (local preview).';
      // Later: POST to your Worker or a form backend.
    };
  </script>
</body>
</html>
