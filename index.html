<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Kintra — Real Estate Automation Pilot</title>
  <meta name="description" content="Kintra Pilot — WhatsApp automation demo for real estate agents"/>
  <style>
    :root {
      --bg:#ffffff; --fg:#0e1726; --muted:#5b6475; --line:#e8ecf1;
      --brand:#0ea5a6; --accent:#5dd1c1; --radius:18px;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1000px;margin:0 auto;padding:24px 16px 60px}
    header{display:flex;justify-content:space-between;align-items:center;margin-bottom:36px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:700;font-size:20px}
    .brand img{width:30px;height:30px;object-fit:contain}
    .actions{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
    .btn{padding:10px 14px;border:1px solid var(--line);border-radius:12px;background:#fff;cursor:pointer;font-size:14px}
    .btn.primary{background:var(--fg);color:#fff;border:none}
    .hero{border:1px solid var(--line);border-radius:var(--radius);padding:40px 24px;text-align:center;box-shadow:0 8px 24px rgba(16,23,40,.06)}
    h1{font-size:30px;margin:0 0 8px}
    .sub{color:var(--muted);font-size:15px;margin-bottom:24px}
    section{margin-top:50px}
    h2{font-size:22px;margin-bottom:10px}
    .demo-box{border:1px solid var(--line);border-radius:var(--radius);padding:24px;box-shadow:0 8px 24px rgba(16,23,40,.06);text-align:left}
    input,textarea{width:100%;padding:10px 12px;font-size:15px;border:1px solid var(--line);border-radius:10px;margin-bottom:10px}
    button{padding:10px 14px;font-size:15px;border-radius:10px;border:none;background:var(--fg);color:#fff;cursor:pointer}
    button:hover{background:#222c3d}
    .micro{color:#8b94a6;font-size:12.5px;margin-top:8px}
    footer{margin-top:50px;color:#8b94a6;font-size:13px;text-align:right}
    .why{color:var(--muted);font-size:15px;line-height:1.6}
    .lang{display:flex;gap:6px}
    .lang button{border:1px solid var(--line);background:#fff;padding:8px 10px;border-radius:10px;cursor:pointer}
    .lang button.active{background:#0e1726;color:#fff;border-color:#0e1726}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <img src="./img/logo.png.png" alt="Kintra"/>
        <span>Kintra Pilot</span>
      </div>
      <div class="actions">
        <a class="btn" href="./dashboard.html" data-i18n="preview_dash">Preview Dashboard</a>
        <a class="btn" href="./deck.html" data-i18n="view_deck">View Live Deck</a>
        <a class="btn" href="./Kintra_Deck.pdf" data-i18n="view_pdf">View Deck PDF</a>
        <div class="lang">
          <button id="btn-en" class="active">EN</button>
          <button id="btn-it">IT</button>
        </div>
      </div>
    </header>

    <div class="hero">
      <h1 data-i18n="hero_title">Build faster WhatsApp funnels — without extra hires.</h1>
      <p class="sub" data-i18n="hero_sub">Trusted by Italian agencies testing now. Time = Money. Let Kintra do the first reply.</p>
      <a class="btn primary" href="#demo" data-i18n="try_demo">Try a 10-second demo</a>
    </div>

    <section id="demo">
      <h2 data-i18n="demo_title">Try a 10-second demo</h2>
      <p class="why" data-i18n="demo_note">Make sure the recipient first messages your Meta test number with “hello.” Then send any text below — Kintra will instantly reply.</p>
      <div class="demo-box">
        <label data-i18n="to_label">Recipient phone (E.164):</label>
        <input type="text" id="to" placeholder="+39..." />
        <label data-i18n="msg_label">Message:</label>
        <textarea id="text" rows="2" placeholder="Scrivi qui..."></textarea>
        <button id="sendBtn" data-i18n="send_btn">Instant reply draft (send via WhatsApp demo)</button>
        <div class="micro" data-i18n="micro_ai">Powered by AI — invisible, fast.</div>
        <p id="result" style="font-size:14px;color:#5b6475;margin-top:10px;"></p>
      </div>
    </section>

    <section>
      <h2 data-i18n="why_title">Why this matters</h2>
      <p class="why" data-i18n="why_copy">
        Every minute an agent spends retyping “Hi, yes it’s available” is a minute lost to new leads.
        Kintra drafts instant WhatsApp replies so you focus on deals — not copy-pasting chats.
      </p>
    </section>

    <footer>
      <div data-i18n="footer">Powered by Kintra AI — built for real estate teams.</div>
    </footer>
  </div>

  <script>
    // --- Language dictionary (EN / IT)
    const dict = {
      en:{
        preview_dash:"Preview Dashboard",view_deck:"View Live Deck",view_pdf:"View Deck PDF",
        hero_title:"Build faster WhatsApp funnels — without extra hires.",
        hero_sub:"Trusted by Italian agencies testing now. Time = Money. Let Kintra do the first reply.",
        try_demo:"Try a 10-second demo",demo_title:"Try a 10-second demo",
        demo_note:"Make sure the recipient first messages your Meta test number with “hello.” Then send any text below — Kintra will instantly reply.",
        to_label:"Recipient phone (E.164):",msg_label:"Message:",
        send_btn:"Instant reply draft (send via WhatsApp demo)",
        micro_ai:"Powered by AI — invisible, fast.",
        why_title:"Why this matters",
        why_copy:"Every minute an agent spends retyping “Hi, yes it’s available” is a minute lost to new leads. Kintra drafts instant WhatsApp replies so you focus on deals — not copy-pasting chats.",
        footer:"Powered by Kintra AI — built for real estate teams."
      },
      it:{
        preview_dash:"Anteprima Dashboard",view_deck:"Visualizza Deck Live",view_pdf:"Apri Deck PDF",
        hero_title:"Costruisci funnel WhatsApp più veloci — senza assumere personale extra.",
        hero_sub:"Già testato da agenzie italiane. Tempo = Denaro. Lascia che Kintra risponda per primo.",
        try_demo:"Prova la demo di 10 secondi",demo_title:"Prova la demo di 10 secondi",
        demo_note:"Assicurati che il destinatario scriva prima “hello” al tuo numero di test Meta. Poi invia un testo qui sotto — Kintra risponderà subito.",
        to_label:"Telefono destinatario (E.164):",msg_label:"Messaggio:",
        send_btn:"Bozza di risposta istantanea (invio via WhatsApp demo)",
        micro_ai:"Tecnologia AI — invisibile, veloce.",
        why_title:"Perché è importante",
        why_copy:"Ogni minuto speso a riscrivere 'Sì, è disponibile' è un minuto perso per nuovi lead. Kintra crea risposte WhatsApp istantanee così puoi concentrarti sulle vendite.",
        footer:"Tecnologia Kintra AI — creata per i team immobiliari."
      }
    };

    function setLang(lang){
      const map=dict[lang]||dict.en;
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key=el.getAttribute('data-i18n');
        if(map[key]) el.textContent=map[key];
      });
      document.getElementById('btn-en').classList.toggle('active',lang==='en');
      document.getElementById('btn-it').classList.toggle('active',lang==='it');
      document.documentElement.lang=lang;
      localStorage.setItem('kintra_lang',lang);
    }

    function initLang(){
      const saved=localStorage.getItem('kintra_lang');
      if(saved) return setLang(saved);
      const nav=(navigator.language||'').toLowerCase();
      if(nav.startsWith('it')) setLang('it'); else setLang('en');
    }

    document.getElementById('btn-en').addEventListener('click',()=>setLang('en'));
    document.getElementById('btn-it').addEventListener('click',()=>setLang('it'));
    initLang();

    // --- WhatsApp demo call
    document.getElementById('sendBtn').addEventListener('click',async()=>{
      const to=document.getElementById('to').value.trim();
      const text=document.getElementById('text').value.trim();
      const result=document.getElementById('result');
      if(!to||!text){result.textContent='Enter phone + message first.';return;}
      result.textContent='Sending...';
      try{
        const res=await fetch('https://kintra-wa-meta.founder-60b.workers.dev/api/wa',{
          method:'POST',headers:{'Content-Type':'application/json'},
          body:JSON.stringify({to,text})
        });
        const ct = res.headers.get('content-type')||'';
        const data = ct.includes('application/json') ? await res.json() : {ok:false,error:await res.text()};
        if(res.ok && data.ok){result.textContent='✅ Message sent! Check WhatsApp.';}
        else{result.textContent='⚠️ Failed: '+(data.error||('HTTP '+res.status));}
      }catch(e){result.textContent='Error: '+e.message;}
    });
  </script>
</body>
</html>
